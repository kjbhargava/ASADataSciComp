my.data2
my.data2 <- gather(data = my.data,
key = c(F.meanL, F.meanR)
value =c( M.meanL, M.meanR))
my.data2 <- gather(data = my.data,
key = c(F.meanL, F.meanR),
value =c( M.meanL, M.meanR))
my.data2 <- gather(data = my.data,
key = F.meanL,
value = M.meanL)%>%
gather(key = F.sdL,
value = M.sdL)
my.data2 <- gather(data = my.data,
key = F.meanL,
value = M.meanL)%>%
gather(key = F.meanR,
value = M.meanR)%>%
gather(key = F.sdL,
value = M.sdL)%>%
gather(key = F.sdR,
value = M.sdR)
my.data2
xNarrow <- data.frame(Subject = c(1:5, 1:5),
Period = c("Before", "Before", "Before","Before",
"Before", "After", "After", "After",
"After", "After"),
Y=c(22,45,32,45,30,60,44,24,56,59),
stringsAsFactors = FALSE)
xNarrow
xWide<-spread(data = xNarrow,
key = After,
value = Before)
xWide<-spread(data = xNarrow,
key = "After",
value = "Before")
xWide<-spread(data = xNarrow,
key = Period,
value = Y)
xWide
xWide<-gather(data = my.data,
key = Period,
value = grp)
my.data2 <- gather(data = my.data,
key = sex,
value = grp)
my.data2
my.data2 <- gather(data = my.data,
key = sex,
value = grp)%>%
spread( key = grp,
value = meanL)
my.data2 <- gather(data = my.data,
key = sex,
value = grp)%>%
spread( key = grp,
value = sex)
my.data2 <- gather(data = my.data,
key = grp,
value = sex)#%>%
#  spread( key = grp,
#          value = sex)
my.data2
xNarrowNoSubject <- data.frame(Period = c("Before", "Before", "Before","Before",
"Before", "After", "After", "After",
"After", "After"),
Y=c(22,45,32,45,30,60,44,24,56,59),
stringsAsFactors = FALSE)
xNarrowNoSubject
x2<-spread(data = xNarrowNoSubject,
key = Period,
value = Y)
x2
my.data2<- gather(data = my.data,
key = sex)%>%
spread(key = F.meanL,
value = meanL)
my.data2
my.data2<- gather(data = my.data,
key = sex,
value = grp)%>%
spread(key = F.meanL,
value = meanL)
my.data2<- gather(data = my.data,
key = sex,
value = grp)%>%
spread(key = meanL,
value = F.meanL)
my.data2<- gather(data = my.data,
key = sex,
value = grp)%>%
spread(key = M.meanL,
value = F.meanL)
my.data2<- gather(data = my.data,
key = sex,
value = grp)%>%
spread(key = grp,
value = F.meanL)
my.data2<- gather(data = my.data,
key = sex,
value = grp)%>%
spread(key = grp,
value = sex)
my.data2
my.data2<- gather(data = my.data,
key = sex,
value = grp)
my.data2
library(mosaicData)
Gestation
?Gestation
library(dplyr)
library(ggplot2)
n<-nrow(Gestation)
n
?set.seed
set.seed(10)
samp<-sample_n(tbl = iris,
size = 100,
replace = TRUE)
?Gestation
mean_Age <- mean(samp$age)
samp
library(dplyr)
library(ggplot2)
library(mosaicData)
n<-nrow(Gestation)
set.seed(10)
samp<-sample_n(tbl = iris,
size = 100,
replace = TRUE)
samp
mean_Age <- mean(samp$age)
samp<-sample_n(tbl = Gestation,
size = 100,
replace = TRUE)
mean_Age <- mean(samp$age)
mean_Age
sd_Age <- sd(mean_Age)
sd_Age
samp
?sd
sd_Age <- sd(mean_Age, na.rm=TRUE)
sd_Age
mean_Age
mean_Age
sd_Age <- sd(mean(samp$age), na.rm=TRUE)
sd_Age
head(samp)
summary(samp)
is.numeric(mean_Age)
class(mean_Age)
mean_Age <- mean(samp$age)
sd_Age <- sd(mean(samp$age), na.rm=TRUE)
sd_Age
tail(samp)
samp<-sample_n(tbl = Gestation,
na.rm = TRUE,
size = 100,
replace = TRUE)
set.seed(4)
samp<-sample_n(tbl = Gestation,
size = 100,
replace = TRUE)
summary(samp)
?Gestation
mean_Age <- mean(samp$age)
class(mean_Age)
sd_Age <- sd(mean(samp$age), na.rm=TRUE)
sd_Age
sd_Age <- sd((samp$age), na.rm=TRUE)
sd_Age
sd_Age
mean_Age
conf_Pos<- mean_Age + 2 * (sd_Age/sqrt(100))
conf_Neg<- mean_Age - 2 * (sd_Age/sqrt(100))
conf_Neg
conf_Pos
mean_Age <- mean(Gestation$age)
mean_Age
summary(Gestation)
samp<-sample_n(tbl = Gestation,
size = 100,
replace = FALSE)
summary(samp)
set.seed(4)
samp<-sample_n(tbl = Gestation,
size = 100,
replace = FALSE)
summary(samp)
mean_Age <- mean(samp$age)
mean_Age
mean_Age <- mean(age)
n<-nrow(Gestation)
set.seed(4)
samp<-sample_n(tbl = Gestation,
size = 100,
replace = TRUE)
summary(samp)
mean_Age <- mean(samp$age)
mean_Age
#mean age is 27.2 years
sd_Age <- sd((samp$age), na.rm=TRUE)
sd_Age
conf_Pos<- mean_Age + 2 * (sd_Age/sqrt(100))
conf_Neg<- mean_Age - 2 * (sd_Age/sqrt(100))
conf_Pos
conf_Neg
?do
B<- 1000
n<- 100
b_samp <- sample_n(tbl = Gestation,
size = B * n,
replace = TRUE)
b_samp_mat <- matrix(b_samp$age,
nrow = B,
ncol = n)
b_sam_med <- apply(b_samp_mat, MARGIN = 1, FUN = median)
b_se <- sd(b_sam_med)
b_se
b_sam_med
b_se <- sd(b_sam_med, na.rm= TRUE)
b_se
b_sam_med_pos <- b_sam_med+2 * b_se
b_sam_med_pos <- b_sam_med-2 * b_se
b_sam_med_neg <- b_sam_med-2 * b_se
b_sam_med_pos <- b_sam_med+2 * b_se
b_sam_med_neg <- b_sam_med-2 * b_se
b_sam_med_neg
b_med <- median(b_sam_med)
b_med
b_med <- median(b_sam_med, na.rm = TRUE)
b_med
b_sam_med_pos <- b_med +2 * b_se
b_sam_med_neg <- b_med -2 * b_se
b_sam_med_neg
b_sam_med_pos
set.seed(4)
b_samp <- sample_n(tbl = Gestation,
size = B * n,
replace = TRUE)
b_samp_mat <- matrix(b_samp$age,
nrow = B,
ncol = n)
b_sam_med <- apply(b_samp_mat, MARGIN = 1, FUN = median)
b_sam_med
b_med <- median(b_sam_med, na.rm = TRUE)
b_med
b_se <- sd(b_sam_med, na.rm= TRUE)
b_se
b_sam_med_pos <- b_med +2 * b_se
b_sam_med_neg <- b_med -2 * b_se
b_sam_med_neg
b_sam_med_pos
#Problem 1
?Gestation
install.packages(c("assertthat", "cli", "glue", "openssl", "R6", "RCurl", "rlang", "stringi", "stringr", "sys"))
install.packages("mosaicData")
install.packages("mosaic")
install.packages("mdsr")
library(Gestation)
?Gestation
library(mdsr)
library(dplyr)
library(ggplot2)
summary(Gestation)
#Problem E.3
my.reg <- lm(wt ~ age, data = Gestation)
my.reg
?geom_smoth()
?geom_smooth()
ggplot(data = Gestation, mapping = aes(x = age, y = wt))+
geom_point()+
geom_smooth(method = "lm", se = FALSE)+
ggtitle("Scatterplot Weight vs Age")
?Gestation()
ggplot(data = Gestation, mapping = aes(x = age, y = wt))+
geom_point()+
geom_smooth(method = "lm", se = FALSE)+
ggtitle("Scatterplot Weight vs Age")
?Gestation()
my.reg
ggplot(data = Gestation, mapping = aes(x = age, y = wt))+
geom_point()+
geom_smooth(method = "lm", se = FALSE)+
ggtitle("Scatterplot Weight vs Age")
?msummary
?msummary()
#2
msummary(my.reg)
#2
summary(my.reg)
confint(my.reg)
?confint
confint(my.reg, level = .95)
confint(my.reg, parm = age level = .95)
confint(my.reg, parm = "age" level = .95)
confint(my.reg, parm = "age", level = .95)
#Problem 1
#a
mult.reg <- lm(wt ~ gestation + age + ht + wt.1, data = Gestation )
summary(mult.reg)
.46096 * 280 + .12771 * 27 + 1.00880 * 64 + .07074 * 130 - 86.33412
#Problem 2
file.choose()
?sep()
?sep
?read.file()
cdi_data <- read.file(file.choose(), filetype = "txt", sep = "")
cdi_data
?group_by()
?do()
region_split <- group_by(.data = "region" )
region_split <- group_by(.data = region )
region_split <- group_by(.data = cdi_data, region )
region_split <- group_by(.data = cdi_data, "region" )
cd_data <- mutate(cdi_data, PopDen = "TotPop"/"LandArea")
cd_data <- mutate(cdi_data, PopDen = "TotPop"/"LandArea")
cd_data <- mutate(cdi_data, LArea = as.numeric("LandArea"), +
TPop = as.numeric("TotPop"), PctP18_34 = as.numeric("PctPop18_34"),+
PctP65 = as.numeric("PctPop65"),+
nAP = as.numeric("nActPhys"), + nHB = as.numeric("nHospBeds"),+
nC = as.numeric("nCrimes"), + PHSG = as.numeric("PctHSGrad"), +
pCapInc = as.numeric("PerCapInc"))
cdi_data <- read.file(file.choose(), filetype = "txt", sep = "")
cd_data <- mutate(cdi_data, LArea = as.numeric("LandArea"), +
TPop = as.numeric("TotPop"), PctP18_34 = as.numeric("PctPop18_34"),+
PctP65 = as.numeric("PctPop65"),+
nAP = as.numeric("nActPhys"), + nHB = as.numeric("nHospBeds"),+
nC = as.numeric("nCrimes"), + PHSG = as.numeric("PctHSGrad"), +
pCapInc = as.numeric("PerCapInc"))
cd_data <- mutate(cdi_data, LArea = as.numeric("LandArea"))
cd_data
?type
?type(cdi_data$"LandArea")
typeof(cdi_data$"LandArea")
cd_data <- mutate(cdi_data, PopDens = "TotPop" / "LandArea")
cd_data <- mutate(cdi_data, PopDens = TotPop / LandArea)
cd_data
region_split <- group_by(.data = cd_data, "region" )
mult_region_reg <- do(.data = region_split, regs = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad) )
?do()
mult_region_reg <- do(region_split, regs = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad) )
mult_region_reg <- do(region_split,lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad) )
region_split$nCrimes
mult_region_reg <- do(region_split,lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, region_split) )
mult_region_reg <- do(region_split,lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = region_split) )
mult_region_reg <- do(region_split,lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = cd_data) )
mult_region_reg <- lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = region_split)
summary(mult_region_reg)
mult_region_reg <- do(.data = region_split, mod = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
region_split <- group_by(.data = cd_data, "region" )%>%
do( mod = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
summary(mult_region_reg)
region_split <- group_by(.data = cd_data, region )%>%
do( mod = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
region_split <- group_by(.data = cd_data, Region )%>%
do( mod = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
summary(mult_region_reg)
mult_reg_reg <- do(.data = region_split, mod = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
region_split <- group_by(.data = cd_data, Region )
mult_reg_reg <- do(.data = region_split, mod = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
?do()
mult_reg_reg <- do(.data = region_split, summarise = lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .))
mult_reg_reg <- do(.data = region_split, summarise(lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = .)))
mult_reg_reg <- do(.data = region_split, summarise(lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = region_split)))
mult_reg_reg <- do(.data = region_split, summary(lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = region_split)))
mult_reg_reg <- do(.data = region_split, lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = region_split))
mult_reg_reg <- do(.data = region_split, reg_Line= lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad, data = region_split))
mult_reg_reg <- do(.data = region_split, reg_Line= lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad,
data = ,))
mult_reg_reg <- do(.data = region_split, reg_Line= lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad,
.))
mult_reg_reg <- do(.data = region_split, reg_Line= lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad,
region_split))
mult_reg_reg <- do( region_split, reg_Line= lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad,
region_split))
summary(mult_reg_reg$Region)
summary(mult_reg_reg)
mult_reg_reg <- do( region_split, reg_Line= lm(nCrimes ~ PopDens + PerCapInc + PctHSGrad,
.))
summary(mult_reg_reg)
View(mult_reg_reg)
mult_reg_reg
mult_reg_reg$reg_Line
#C
summary(mult_reg_reg$reg_Line)
#C
summary(mult_reg_reg)
#C
summary(mult_reg_reg$Region)
#C
mult_reg_reg$Region
#C
mult_reg_reg$Region$1
#C
mult_reg_reg$Region[[1]]
#C
summary(mult_reg_reg$Region[[1]])
#C
mult_reg_reg
#C
summary(mult_reg_reg)
#C
summary(group_by(mult_reg_reg, Region))
mult_reg_reg$reg_Line
#C
summary(mult_reg_reg$reg_Line)
#C
mult_reg_reg$reg_Line[[1]]
#C
summary(mult_reg_reg$reg_Line[[1]])
#Region 1 MSE = 28060, R^2 = .8352
summary(mult_reg_reg$reg_Line[[2]])
#Region 2 MSE =
summary(mult_reg_reg$reg_Line[[3]])
#Region 3 MSE =
summary(mult_reg_reg$reg_Line[[4]])
getwd()
# Imports
library(dplyr)
library(tidyr)
library(ggplot2)
length(data.frame2$num_under6)
#data.frame1 is ownedNYCHVS
data.frame1 <- read.csv("../ownedNYCHVS_midterm2.csv")
setwd("C:/Users/karan/Desktop/ASADataSciComp/R_Code")
getwd()
#data.frame1 is ownedNYCHVS
data.frame1 <- read.csv("../ownedNYCHVS_midterm2.csv")
#data.frame2 is rentedNYCHVS
data.frame2 <- read.csv("../rentedNYCHVS_midterm3.csv")
View(data.frame1)
length(data.frame2$num_under6)
arr_dist <- dist(data.frame2$num_under6, method = "euclidean")
arr_clust <-hclust(arr_dist)
length(data.frame2$num_under6)
arr_dist <- dist(data.frame2$num_under6, method = "euclidean")
arr_clust <-hclust(arr_dist)
arr_tree <-as.phylo(arr_clust)
plot(arr_tree,cex = .5)
#data.frame1 is ownedNYCHVS
data.frame1 <- read.csv("../ownedNY_Data_Final.csv")
setwd("C:/Users/karan/Desktop/ASADataSciComp/R_Code")
getwd()
#data.frame1 is ownedNYCHVS
data.frame1 <- read.csv("../ownedNY_Data_Final.csv")
#data.frame1 is ownedNYCHVS
data.frame1 <- read.csv("../owned_NY_Data_Final.csv")
#data.frame2 is rentedNYCHVS
data.frame2 <- read.csv("../rented_NY_Data_Final.csv")
length(data.frame2$num_under6)
arr_dist <- dist(data.frame2$num_under6, method = "euclidean")
arr_clust <-hclust(arr_dist)
arr_tree <-as.phylo(arr_clust)
library(ape)
length(data.frame2$num_under6)
arr_dist <- dist(data.frame2$num_under6, method = "euclidean")
arr_clust <-hclust(arr_dist)
arr_tree <-as.phylo(arr_clust)
plot(arr_tree,cex = .5)
arr_dist2 <- dist(data.frame1$num_under6, method = "euclidean")
arr_clust2 <- hclust(arr_dist2)
arr_tree2 <-as.phylo(arr_clust2)
plot(arr_tree2,cex = .5)
# Cluster with the highest gini index scores
# Broken windows for owned homes
# Out of pocket rent for rented homes
# Too many branches to be useful
arr_dist3 <- dist(data.frame2$outofpocket_rent, method = "euclidean")
arr_clust3 <- hclust(arr_dist3)
arr_tree3 <-as.phylo(arr_clust3)
plot(arr_tree3,cex = .5)
# Broken windows for owned homes
# 2 branches (not insightful, we knew there would be a group with broken,
# and a group without broken
arr_dist4 <- dist(data.frame1$..broken_windows, method = "euclidean")
# Broken windows for owned homes
# 2 branches (not insightful, we knew there would be a group with broken,
# and a group without broken
arr_dist4 <- dist(data.frame1$Ã¯..broken_windows, method = "euclidean")
arr_clust4 <- hclust(arr_dist4)
arr_tree4 <-as.phylo(arr_clust4)
plot(arr_tree4,cex = .5)
# Middle value gini indices
# Number of stories for owned homes
# 7 branches
arr_dist5 <- dist(data.frame1$num_stories, method = "euclidean")
arr_clust5 <- hclust(arr_dist5)
arr_tree5 <-as.phylo(arr_clust5)
plot(arr_tree5,cex = .5)
# Middle value gini indices
# Number of stories for rented homes
# 7 branches
arr_dist6 <- dist(data.frame2$num_stories, method = "euclidean")
arr_clust6 <- hclust(arr_dist6)
arr_tree6 <-as.phylo(arr_clust6)
plot(arr_tree6,cex = .5)
#and rented homes
#also 7 branches
arr_dist6<- dist(data.frame2$num_stories, method = "euclidean")
arr_clust6 <- hclust(arr_dist6)
arr_tree6<-as.phylo(arr_clust6)
plot(arr_tree6,cex = .5)
#data.frame2 is rentedNYCHVS
data.frame2 <- read.csv("../rented_NY_supersmall.csv")
View(data.frame1)
#and rented homes
#also 7 branches
arr_dist6<- dist(data.frame2$num_stories, method = "euclidean")
arr_clust6 <- hclust(arr_dist6)
arr_tree6<-as.phylo(arr_clust6)
plot(arr_tree6,cex = .5)
